(self.webpackChunkngx_sub_form_demo=self.webpackChunkngx_sub_form_demo||[]).push([[278],{5341:function(S,b,n){"use strict";n.d(b,{QD:function(){return Ut},dm:function(){return _},Us:function(){return Nt},R1:function(){return ct},rU:function(){return mt},Np:function(){return Wt},CB:function(){return Rt}});var c=n(5671),f=n(3144),p=n(3237),v=n(1120),s=n(136),x=n(7777),D=n(2559),h=n.n(D),A=n(1135),j=n(7579),R=n(9300),g=n(8505),I=n(5724),O=n(3075),C=Symbol("ngx-observable-lifecycle-hooks"),T=Symbol("ngx-observable-lifecycle-hooks-decorator");function U(a){return new Proxy({},{get:function(r,t){return function(a,e){a[C]||(a[C]={}),a[C][e]||(a[C][e]=new j.x);var r=a.constructor.prototype;if(r[T]||(r[T]={}),!r[T][e]){var t=r[e];r[e]=function(){var u,i;null==t||t.call(this),null===(i=null===(u=this[C])||void 0===u?void 0:u[e])||void 0===i||i.next()};var o=r.ngOnDestroy;r.ngOnDestroy=function(){var u,i,m;null==o||o.call(this),null===(i=null===(u=this[C])||void 0===u?void 0:u[e])||void 0===i||i.complete(),null===(m=this[C])||void 0===m||delete m[e]},r[T][e]=!0}return a[C][e]}(a,t).asObservable()}})}var P=n(5963),$=n(4482),Z=n(5032),K=n(5403),ot=n(8421),q=n(2722);function Rt(a){return[{provide:O.JU,useExisting:a,multi:!0},{provide:O.Cf,useExisting:a,multi:!0}]}var At=function(e){return'"'.concat(e,'"')},Tt=function(a){(0,s.Z)(r,a);var e=(0,x.Z)(r);function r(t){return(0,c.Z)(this,r),e.call(this,"Attempt to update the form value with an object that doesn't contains some of the required form control keys.\nMissing: ".concat(t.map(At).join(", ")))}return(0,f.Z)(r)}((0,I.Z)(Error));function it(a){var r=U(a).ngOnDestroy;return function(t){return t.pipe((0,q.R)(r))}}function k(a){return null==a}var tt=n(4902),L=n(7685),z=n(6451),et=n(8675),H=n(4004),Dt=n(4986),at=n(7272),X=n(5698);function ut(a){return(0,H.U)(function(){return a})}var wt=n(5577);function st(a,e){return e?function(r){return(0,at.z)(e.pipe((0,X.q)(1),(0,$.e)(function(a,e){a.subscribe(new K.Q(e,Z.Z))})),r.pipe(st(a)))}:(0,wt.z)(function(r,t){return a(r,t).pipe((0,X.q)(1),ut(r))})}function W(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dt.z,r=(0,P.H)(a,e);return st(function(){return r})}var ft=n(4671),It=n(3269);function lt(){for(var a=arguments.length,e=new Array(a),r=0;r<a;r++)e[r]=arguments[r];var t=(0,It.jO)(e);return(0,$.e)(function(o,u){for(var i=e.length,m=new Array(i),l=e.map(function(){return!1}),d=!1,y=function(G){(0,ot.Xf)(e[G]).subscribe(new K.Q(u,function(J){m[G]=J,!d&&!l[G]&&(l[G]=!0,(d=l.every(ft.y))&&(l=null))},Z.Z))},E=0;E<i;E++)y(E);o.subscribe(new K.Q(u,function(N){if(d){var G=[N].concat(m);u.next(t?t.apply(void 0,(0,tt.Z)(G)):G)}}))})}var M=n(6903),ct=function(){var a=function(){function e(){var r=this;(0,c.Z)(this,e),this.controlKeys=[],this.formGroup=new O.cw(this._getFormControls(),this.getFormGroupControlOptions()),this.onChange=void 0,this.onTouched=void 0,this.emitNullOnDestroy=!0,this.emitInitialValueOnInit=!0,this.subscription=void 0,this.controlDisabled=!1;var t=this.getDefaultValues();t&&this.formGroup.reset(t,{emitEvent:!1}),setTimeout(function(){r.formGroup&&(r.formGroup.updateValueAndValidity({emitEvent:!1}),r.controlDisabled&&r.formGroup.disable())},0)}return(0,f.Z)(e,[{key:"formGroupControls",get:function(){return this.formGroup?this.formGroup.controls:null}},{key:"formGroupValues",get:function(){return this.mapControls(function(t){return t.value})}},{key:"formGroupErrors",get:function(){var t=this.mapControls(function(o){return o.errors},function(o,u,i){return!!i||o.invalid},!0);return this.formGroup.errors||t&&Object.keys(t).length?Object.assign({},this.formGroup.errors?{formGroup:this.formGroup.errors}:{},t):null}},{key:"formControlNames",get:function(){return this.mapControls(function(t,o){return o},function(){return!0},!1)}},{key:"_getFormControls",value:function(){var t=this.getFormControls();return this.controlKeys=Object.keys(t),t}},{key:"mapControls",value:function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!this.formGroup)return null;var i=this.formGroup.controls,m={};for(var l in i)if(this.formGroup.controls.hasOwnProperty(l)){var d=i[l];if(u&&d instanceof O.Oe){for(var y=[],E=0;E<d.length;E++)o(d.at(E),l,!0)&&y.push(t(d.at(E),l));y.length>0&&y.some(function(N){return!k(N)})&&(m[l]=y)}else d&&o(d,l,!1)&&(m[l]=t(d,l))}return m}},{key:"onFormUpdate",value:function(t){}},{key:"getFormGroupControlOptions",value:function(){return{}}},{key:"validate",value:function(){return!this.formGroup||this.formGroup.valid?null:this.formGroupErrors}},{key:"ngOnDestroy",value:function(){this.formGroup=void 0,this.subscription&&this.subscription.unsubscribe(),this.emitNullOnDestroy&&this.onChange&&this.onChange(null),this.onChange=void 0}},{key:"getDefaultValues",value:function(){return null}},{key:"writeValue",value:function(t){if(this.formGroup){var o=this.getDefaultValues(),u=this.transformToFormGroup(void 0===t?null:t,o);if(k(u))this.formGroup.reset(null===o?void 0:o,{emitEvent:!1});else{var i=this.getMissingKeys(u);if(i.length>0)throw new Tt(i);this.handleFormArrayControls(u);var m=this.formGroup.disabled;this.formGroup.setValue(u,{emitEvent:!1}),m&&this.formGroup.disable()}this.formGroup.markAsPristine(),this.formGroup.markAsUntouched()}}},{key:"handleFormArrayControls",value:function(t){var o=this;Object.entries(t).forEach(function(u){var i=(0,L.Z)(u,2),m=i[0],l=i[1];if(o.formGroup.get(m)instanceof O.Oe&&Array.isArray(l)){for(var d=o.formGroup.get(m);d.length>l.length;)d.removeAt(d.length-1);for(var y=d.length;y<l.length;y++)o.formIsFormWithArrayControls()?d.insert(y,o.createFormArrayControl(m,l[y])):d.insert(y,new O.NI(l[y]))}})}},{key:"formIsFormWithArrayControls",value:function(){return"function"==typeof this.createFormArrayControl}},{key:"getMissingKeys",value:function(t){return this.controlKeys.reduce(function(u,i){return(k(t)||void 0===t[i])&&u.push(i),u},[])}},{key:"handleEmissionRate",value:function(){return function(t){return t}}},{key:"transformToFormGroup",value:function(t,o){return t}},{key:"transformFromFormGroup",value:function(t){return t}},{key:"registerOnChange",value:function(t){var o=this;if(this.formGroup){this.onChange=t;var i=Object.keys(this.formControlNames).map(function(l){return o.formGroup.controls[l].valueChanges.pipe((0,et.O)(o.formGroup.controls[l].value),(0,H.U)(function(d){return{key:l,value:d}}))}),m=z.T.apply(void 0,(0,tt.Z)(i.map(function(l){return l.pipe((0,H.U)(function(d){return d.key}))})));this.subscription=this.formGroup.valueChanges.pipe(this.handleEmissionRate(),(0,et.O)(this.formGroup.value),W(0),(0,R.h)(function(){return!!o.formGroup}),lt(m),(0,H.U)(function(l,d){var N=(0,L.Z)(l,2)[1];if(d>0&&o.onTouched&&o.onTouched(),d>0||0===d&&o.emitInitialValueOnInit){o.onChange&&o.onChange(o.transformFromFormGroup(o.formGroup.value));var G={};G[N]=!0,o.onFormUpdate(G)}})).subscribe()}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this.controlDisabled=!!t,this.formGroup&&(t?this.formGroup.disable({emitEvent:!1}):this.formGroup.enable({emitEvent:!1}))}}]),e}();return a.\u0275fac=function(r){return new(r||a)},a.\u0275dir=M.lG2({type:a}),a}(),mt=function(){var a=function(e){(0,s.Z)(t,e);var r=(0,x.Z)(t);function t(){return(0,c.Z)(this,t),r.apply(this,arguments)}return(0,f.Z)(t)}(ct);return a.\u0275fac=function(){var e;return function(t){return(e||(e=M.n5z(a)))(t||a)}}(),a.\u0275dir=M.lG2({type:a,features:[M.qOj]}),a}(),Nt=function(){var a=function(e){(0,s.Z)(t,e);var r=(0,x.Z)(t);function t(){var o;return(0,c.Z)(this,t),(o=r.apply(this,arguments)).dataInput$=new A.X(null),o._dataOutput$=new j.x,o.emitInitialValueOnInit=!1,o.emitNullOnDestroy=!1,o.dataValue=null,o}return(0,f.Z)(t,[{key:"disabled",set:function(u){this.setDisabledState(u)}},{key:"ngOnInit",value:function(){var u=this;this.registerOnChange(function(i){return u.onRegisterOnChangeHook(i)}),this.dataInput$.pipe((0,R.h)(function(i){return!h()(i,u.formGroup.value)}),(0,g.b)(function(i){k(i)||u.writeValue(i)}),it(this)).subscribe(),this._dataOutput$.pipe((0,R.h)(function(){return u.formGroup.valid}),(0,g.b)(function(i){return u.dataOutput.emit(i)}),it(this)).subscribe()}},{key:"onRegisterOnChangeHook",value:function(u){return!this.formGroup.invalid&&!h()(u,this.dataInput$.value)&&(this.dataValue=u,!0)}},{key:"dataInputUpdated",value:function(u){this.dataInput$.next(u)}},{key:"writeValue",value:function(u){this.dataValue=u,(0,p.Z)((0,v.Z)(t.prototype),"writeValue",this).call(this,u)}},{key:"transformToFormGroup",value:function(u,i){return u}},{key:"transformFromFormGroup",value:function(u){return u}},{key:"manualSave",value:function(){!k(this.dataValue)&&this.formGroup.valid&&this._dataOutput$.next(this.dataValue)}}]),t}(mt);return a.\u0275fac=function(){var e;return function(t){return(e||(e=M.n5z(a)))(t||a)}}(),a.\u0275dir=M.lG2({type:a,inputs:{disabled:"disabled"},features:[M.qOj]}),a}(),Vt=function(a){(0,s.Z)(r,a);var e=(0,x.Z)(r);function r(t){return(0,c.Z)(this,r),e.call(this,'You\'re trying to apply the "DataInput" decorator on a property called "'.concat(t,'". That decorator should only be used on a property called "dataInput"'))}return(0,f.Z)(r)}((0,I.Z)(Error));function Ut(){return function(a,e){if("dataInput"!==e)throw new Vt(e);Object.defineProperty(a,e,{set:function(t){this.dataInputUpdated(t)}})}}var vt=n(9646),dt=n(515),Pt=n(9841),$t=n(6063),B=function(a){(0,s.Z)(r,a);var e=(0,x.Z)(r);function r(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$t.l;return(0,c.Z)(this,r),(t=e.call(this))._bufferSize=o,t._windowTime=u,t._timestampProvider=i,t._buffer=[],t._infiniteTimeWindow=!0,t._infiniteTimeWindow=u===1/0,t._bufferSize=Math.max(1,o),t._windowTime=Math.max(1,u),t}return(0,f.Z)(r,[{key:"next",value:function(o){var i=this._buffer,m=this._infiniteTimeWindow,l=this._timestampProvider,d=this._windowTime;this.isStopped||(i.push(o),!m&&i.push(l.now()+d)),this._trimBuffer(),(0,p.Z)((0,v.Z)(r.prototype),"next",this).call(this,o)}},{key:"_subscribe",value:function(o){this._throwIfClosed(),this._trimBuffer();for(var u=this._innerSubscribe(o),i=this._infiniteTimeWindow,l=this._buffer.slice(),d=0;d<l.length&&!o.closed;d+=i?1:2)o.next(l[d]);return this._checkFinalizedStatuses(o),u}},{key:"_trimBuffer",value:function(){var o=this._bufferSize,u=this._timestampProvider,i=this._buffer,m=this._infiniteTimeWindow,l=(m?1:2)*o;if(o<1/0&&l<i.length&&i.splice(0,i.length-l),!m){for(var d=u.now(),y=0,E=1;E<i.length&&i[E]<=d;E+=2)y=E;y&&i.splice(0,y+1)}}}]),r}(j.x),Zt=n(3099);function pt(a,e,r){var t,o,u,i=!1;return a&&"object"==typeof a?(u=null!==(t=a.bufferSize)&&void 0!==t?t:1/0,e=null!==(o=a.windowTime)&&void 0!==o?o:1/0,i=!!a.refCount,r=a.scheduler):u=null!=a?a:1/0,(0,Zt.B)({connector:function(){return new B(u,e,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}var rt=n(3900),ht=function(e,r){Object.entries(r).forEach(function(t){var o=(0,L.Z)(t,2);e[o[0]]=o[1]})},gt=function(e){var r=Object.entries(e.controls).reduce(function(t,o){var u=(0,L.Z)(o,2),i=u[0],m=u[1];if(m.errors&&(t[i]=m.errors),m instanceof O.Oe){for(var d={},y=0;y<m.length;y++){var E=m.at(y).errors;E&&(d[y]=E)}if(Object.values(d).length>0){var N=t;i in N||(N[i]={}),Object.assign(N[i],d)}}return t},{});return e.errors||Object.values(r).length?Object.assign({},e.errors?{formGroup:e.errors}:{},r):null};var _=function(){return(a=_||(_={})).SUB="Sub",a.ROOT="Root",_;var a}(),Q=function(e){return e.formType===_.ROOT};function Wt(a,e){var r,t,o,u=function(a){var e=new O.cw(a.formControls,a.formGroupOptions),r=function(e){return JSON.parse(JSON.stringify(e))}(e.value),t=Object.keys(r),o=t.reduce(function(i,m){return i[m]=m,i},{}),u=t.reduce(function(i,m){var l=e.get(m);return l instanceof O.Oe&&i.push({key:m,control:l}),i},[]);return{formGroup:e,defaultValues:r,formControlNames:o,formArrays:u}}(e),i=u.formGroup,m=u.defaultValues,l=u.formControlNames,d=u.formArrays,y=!1,E=null!==(r=e.componentHooks)&&void 0!==r?r:{onDestroy:U(a).ngOnDestroy,afterViewInit:U(a).ngAfterViewInit};E.onDestroy.pipe((0,X.q)(1)).subscribe(function(){y=!0}),ht(a,{validate:function(){return y||i.valid?null:gt(i)}});var N=(0,P.H)(0),G=function(e){var r=new B(1),t=new B(1),o=new B(1),u=new B(1);return ht(e,{writeValue:function(l){r.next(l)},registerOnChange:function(l){t.next(l)},registerOnTouched:function(l){o.next(l)},setDisabledState:function(l){u.next(!!l)}}),{writeValue$:r.asObservable(),registerOnChange$:t.asObservable(),registerOnTouched$:o.asObservable(),setDisabledState$:u.asObservable()}}(a),J=Q(e)?e.input$.pipe((0,et.O)(null)):G.writeValue$,yt=Q(e)?(0,vt.of)(function(F){!F||e.output$.next(F)}):G.registerOnChange$,Ct=Q(e)?null!==(t=e.disabled$)&&void 0!==t?t:(0,vt.of)(!1):G.setDisabledState$,Ot=J.pipe((0,H.U)(function(F){return k(F)?m:e.toFormGroup?e.toFormGroup(F):F}),pt({refCount:!0,bufferSize:1})),bt=Ot.pipe((0,rt.w)(function(F){var V;return Q(e)?(e.manualSave$?e.manualSave$.pipe(lt(i.valueChanges),(0,H.U)(function(Y){return(0,L.Z)(Y,2)[1]})):i.valueChanges).pipe((0,R.h)(function(){return i.valid}),W(0),(0,R.h)(function(Y){return!i.invalid&&(e.outputFilterPredicate?e.outputFilterPredicate(F,Y):!h()(F,Y))}),null!==(V=e.handleEmissionRate)&&void 0!==V?V:ft.y):i.valueChanges.pipe(W(0))}),(0,H.U)(function(F){return e.fromFormGroup?e.fromFormGroup(F):F})),Ft=(0,z.T)(J,bt).pipe(pt({bufferSize:1,refCount:!0})),Kt=k(e.emitNullOnDestroy)||e.emitNullOnDestroy?E.onDestroy.pipe(ut(null)):dt.E,xt=function(e){return!!e.createFormArrayControl}(e)&&e.createFormArrayControl?e.createFormArrayControl:function(F,V){return new O.NI(V)},Bt={broadcastValueToParent$:yt.pipe((0,rt.w)(function(F){return bt.pipe((0,g.b)(function(V){return F(V)}))})),applyUpstreamUpdateOnLocalForm$:Ot.pipe((0,g.b)(function(F){(function(e,r,t){!e.length||e.forEach(function(o){var u=o.key,i=o.control,m=r[u];if(Array.isArray(m)){for(;i.length>m.length;)i.removeAt(i.length-1);for(var l=i.length;l<m.length;l++){var d=t(u,m[l]);i.disabled&&d.disable(),i.insert(l,d)}}})})(d,F,xt),i.reset(F,{emitEvent:!1})})),supportChangeDetectionStrategyOnPush:(0,at.z)(E.afterViewInit.pipe((0,X.q)(1)),(0,z.T)(Ft,Ct).pipe(W(0),(0,g.b)(function(){(0,M.Rx$)(a)}))),setDisabledState$:Ct.pipe((0,g.b)(function(F){F?i.disable({emitEvent:!1}):i.enable({emitEvent:!1})})),updateValue$:N.pipe((0,g.b)(function(){i.updateValueAndValidity({emitEvent:!1})})),bindTouched$:(0,Pt.a)([G.registerOnTouched$,null!==(o=e.touched$)&&void 0!==o?o:dt.E]).pipe(W(0),(0,g.b)(function(F){return(0,(0,L.Z)(F,1)[0])()}))};return z.T.apply(void 0,(0,tt.Z)(Object.values(Bt))).pipe((0,q.R)(E.onDestroy)).subscribe(),yt.pipe((0,rt.w)(function(F){return Kt.pipe((0,g.b)(function(V){return F(V)}))}),(0,q.R)(E.onDestroy.pipe(W(0)))).subscribe(),{formGroup:i,formControlNames:l,get formGroupErrors(){return gt(i)},createFormArrayControl:xt,controlValue$:Ft}}},4879:function(S,b,n){"use strict";n.d(b,{HB:function(){return c},lI:function(){return f},XC:function(){return p},_m:function(){return v}});var c=function(){return(s=c||(c={})).PROTOCOL="Protocol",s.MEDICAL="Medical",s.ASTROMECH="Astromech",s.ASSASSIN="Assassin",c;var s}(),f=function(){return(s=f||(f={})).DROIDSPEAK="Droidspeak",s.EWOKESE="Ewokese",s.HUTTESE="Huttese",s.JAWAESE="Jawaese",s.SITH="Sith",s.SHYRIIWOOK="Shyriiwook",f;var s}(),p=function(){return(s=p||(p={})).REGULAR="Regular",s.SPHERE="Sphere",p;var s}(),v=function(){return(s=v||(v={})).SABER="Saber",s.FLAME_THROWER="FlameThrower",s.GUN="Gun",s.AXE="Axe",v;var s}()},6482:function(S,b,n){"use strict";n.d(b,{I:function(){return c}});var c=function(){return(f=c||(c={})).VEHICLE="Vehicle",f.DROID="Droid",c;var f}()},3246:function(S,b,n){"use strict";n.d(b,{F:function(){return c}});var c=function(){return(f=c||(c={})).SPACESHIP="Spaceship",f.SPEEDER="Speeder",c;var f}()},2422:function(S,b,n){"use strict";n.d(b,{o:function(){return R}});var c=n(4902),f=n(5671),p=n(3144),v=n(1135),s=n(6482),x=n(4879),D=n(3246),h=[{id:"3f71b7eb-4a4f-40e6-9fca-e8cc7c0199c3",price:45e6,title:"Millenium Falcon",imageUrl:"https://vignette.wikia.nocookie.net/starwars/images/4/43/MillenniumFalconTFA-Fathead.png/revision/latest/scale-to-width-down/1000?cb=20161110011442",listingType:s.I.VEHICLE,product:{color:"#cec80d",canFire:!0,crewMembers:[{firstName:"Obi-Wan",lastName:"Kenobi"},{firstName:"R2",lastName:"D2"}],wingCount:0,vehicleType:D.F.SPACESHIP}},{id:"c01ad30c-d686-4db2-9a3c-6cf91c494bf0",price:5e5,title:"X-34 landspeeder",imageUrl:"https://vignette.wikia.nocookie.net/starwars/images/5/54/X34-landspeeder.jpg/revision/latest?cb=20080316031428",listingType:s.I.VEHICLE,product:{color:"#2468f7",canFire:!0,crewMembers:[{firstName:"Anakin",lastName:"Skywalker"}],vehicleType:D.F.SPEEDER,maximumSpeed:250}},{id:"99178909-7db2-4b75-99e5-028b2d4f6755",price:15e4,title:"C-3PO Protocol Droid",imageUrl:"https://vignette.wikia.nocookie.net/starwars/images/5/51/C-3PO_EP3.png/revision/latest?cb=20131005124036",listingType:s.I.DROID,product:{color:"#b38d03",name:"Proto",droidType:x.HB.PROTOCOL,spokenLanguages:[x.lI.DROIDSPEAK,x.lI.HUTTESE]}},{id:"8aa98e18-838c-4a19-975e-2366c2566544",price:21e4,title:"2-1B Medial Droid",imageUrl:"https://vignette.wikia.nocookie.net/starwars/images/b/b6/2-1B_negtd.jpg/revision/latest/scale-to-width-down/200?cb=20100616170941",listingType:s.I.DROID,product:{color:"#07c911",name:"Medic",droidType:x.HB.MEDICAL,canHealHumans:!0,canFixRobots:!0}},{id:"08c2c071-f03e-4a63-93b7-bd3df0f2987c",price:215e3,title:"R2D2 Astromech Droid",imageUrl:"https://vignette.wikia.nocookie.net/starwars/images/e/eb/ArtooTFA2-Fathead.png/revision/latest/scale-to-width-down/1000?cb=20161108040914",listingType:s.I.DROID,product:{color:"#ff0a0a",name:"Test",droidType:x.HB.ASTROMECH,toolCount:15,shape:x.XC.REGULAR}},{id:"0258166e-13b5-4580-a63b-7c1914ef660f",price:35e4,title:"K2-S0 Security Droid",imageUrl:"https://vignette.wikia.nocookie.net/starwars/images/f/fd/K-2SO_Sideshow.png/revision/latest?cb=20170302003128",listingType:s.I.DROID,product:{color:"#cc6969",name:"acwer fg",droidType:x.HB.ASSASSIN,weapons:[x._m.AXE,x._m.FLAME_THROWER]}}],A=n(4004),j=n(6903),R=function(){var g=function(){function I(){(0,f.Z)(this,I),this.listings$=new v.X(h)}return(0,p.Z)(I,[{key:"getListings",value:function(){return this.listings$.asObservable().pipe((0,A.U)(this.listingsDeepCopy.bind(this)))}},{key:"upsertListing",value:function(C){var T=this.listings$.getValue(),w=T.findIndex(function($){return $.id===C.id});if(w>-1){var U=T.slice(0,w),P=T.slice(w+1);this.listings$.next([].concat((0,c.Z)(U),[C],(0,c.Z)(P)))}else this.listings$.next([C].concat((0,c.Z)(this.listings$.getValue())))}},{key:"getOneListing",value:function(C){return this.listings$.pipe((0,A.U)(function(T){var w=T.find(function(U){return U.id===C});if(!w)throw new Error("not found");return w}),(0,A.U)(this.listingDeepCopy))}},{key:"listingDeepCopy",value:function(C){return JSON.parse(JSON.stringify(C))}},{key:"listingsDeepCopy",value:function(C){return C.map(this.listingDeepCopy)}}]),I}();return g.\u0275fac=function(O){return new(O||g)},g.\u0275prov=j.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g}()},618:function(S,b,n){"use strict";n.d(b,{B:function(){return x}});var c=n(5671),f=n(3144),p=n(9444),s=n(6903),x=function(){var D=function(){function h(){(0,c.Z)(this,h)}return(0,f.Z)(h,[{key:"generate",value:function(){return(0,p.v4)()}}]),h}();return D.\u0275fac=function(A){return new(A||D)},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D}()},2134:function(S,b,n){"use strict";n.d(b,{h:function(){return p}});var c=n(3144),f=n(5671),p=(0,c.Z)(function v(s){(0,f.Z)(this,v)})},2559:function(S){"use strict";S.exports=function b(n,c){if(n===c)return!0;if(n&&c&&"object"==typeof n&&"object"==typeof c){if(n.constructor!==c.constructor)return!1;var f,p,v;if(Array.isArray(n)){if((f=n.length)!=c.length)return!1;for(p=f;0!=p--;)if(!b(n[p],c[p]))return!1;return!0}if(n.constructor===RegExp)return n.source===c.source&&n.flags===c.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===c.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===c.toString();if((f=(v=Object.keys(n)).length)!==Object.keys(c).length)return!1;for(p=f;0!=p--;)if(!Object.prototype.hasOwnProperty.call(c,v[p]))return!1;for(p=f;0!=p--;){var s=v[p];if(!b(n[s],c[s]))return!1}return!0}return n!=n&&c!=c}},9444:function(S,b,n){var c=n(4542),f=n(6926),p=f;p.v1=c,p.v4=f,S.exports=p},7805:function(S){for(var b=[],n=0;n<256;++n)b[n]=(n+256).toString(16).substr(1);S.exports=function(f,p){var v=p||0;return[b[f[v++]],b[f[v++]],b[f[v++]],b[f[v++]],"-",b[f[v++]],b[f[v++]],"-",b[f[v++]],b[f[v++]],"-",b[f[v++]],b[f[v++]],"-",b[f[v++]],b[f[v++]],b[f[v++]],b[f[v++]],b[f[v++]],b[f[v++]]].join("")}},7142:function(S){var b="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(b){var n=new Uint8Array(16);S.exports=function(){return b(n),n}}else{var c=new Array(16);S.exports=function(){for(var v,p=0;p<16;p++)0==(3&p)&&(v=4294967296*Math.random()),c[p]=v>>>((3&p)<<3)&255;return c}}},4542:function(S,b,n){var p,v,c=n(7142),f=n(7805),s=0,x=0;S.exports=function(h,A,j){var R=A&&j||0,g=A||[],I=(h=h||{}).node||p,O=void 0!==h.clockseq?h.clockseq:v;if(null==I||null==O){var C=c();null==I&&(I=p=[1|C[0],C[1],C[2],C[3],C[4],C[5]]),null==O&&(O=v=16383&(C[6]<<8|C[7]))}var T=void 0!==h.msecs?h.msecs:(new Date).getTime(),w=void 0!==h.nsecs?h.nsecs:x+1,U=T-s+(w-x)/1e4;if(U<0&&void 0===h.clockseq&&(O=O+1&16383),(U<0||T>s)&&void 0===h.nsecs&&(w=0),w>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=T,x=w,v=O;var P=(1e4*(268435455&(T+=122192928e5))+w)%4294967296;g[R++]=P>>>24&255,g[R++]=P>>>16&255,g[R++]=P>>>8&255,g[R++]=255&P;var $=T/4294967296*1e4&268435455;g[R++]=$>>>8&255,g[R++]=255&$,g[R++]=$>>>24&15|16,g[R++]=$>>>16&255,g[R++]=O>>>8|128,g[R++]=255&O;for(var Z=0;Z<6;++Z)g[R+Z]=I[Z];return A||f(g)}},6926:function(S,b,n){var c=n(7142),f=n(7805);S.exports=function(v,s,x){var D=s&&x||0;"string"==typeof v&&(s="binary"===v?new Array(16):null,v=null);var h=(v=v||{}).random||(v.rng||c)();if(h[6]=15&h[6]|64,h[8]=63&h[8]|128,s)for(var A=0;A<16;++A)s[D+A]=h[A];return s||f(h)}}}]);