"use strict";(self.webpackChunkngx_sub_form_demo=self.webpackChunkngx_sub_form_demo||[]).push([[692],{9561:(V,O,i)=>{i.d(O,{QD:()=>Qe,dm:()=>ct,Us:()=>Ye,R1:()=>Kt,rU:()=>zt,Np:()=>Pi,CB:()=>L});var l=i(2559),p=i.n(l),h=i(1135),C=i(7579),d=i(9300),A=i(8505),g=i(4006);const S=Symbol("ngx-observable-lifecycle-hooks"),j=Symbol("ngx-observable-lifecycle-hooks-decorator");function T(t){return new Proxy({},{get:(e,r)=>function q(t,e){t[S]||(t[S]={}),t[S][e]||(t[S][e]=new C.x);const r=t.constructor.prototype;if(r[j]||(r[j]={}),!r[j][e]){const n=r[e];r[e]=function(){n?.call(this),this[S]?.[e]?.next()};const a=r.ngOnDestroy;r.ngOnDestroy=function(){a?.call(this),this[S]?.[e]?.complete(),delete this[S]?.[e]},r[j][e]=!0}return t[S][e]}(t,r).asObservable()})}var E=i(5963),w=i(4482),I=i(5032),f=i(5403),b=i(8421),G=i(2722);function L(t){return[{provide:g.JU,useExisting:t,multi:!0},{provide:g.Cf,useExisting:t,multi:!0}]}const Le=t=>`"${t}"`;class Ke extends Error{constructor(e){super(`Attempt to update the form value with an object that doesn't contains some of the required form control keys.\nMissing: ${e.map(Le).join(", ")}`)}}function Ut(t){const{ngOnDestroy:e}=T(t);return r=>r.pipe((0,G.R)(e))}function B(t){return null==t}var pt=i(6451),Ct=i(8675),K=i(4004),ze=i(4986),Bt=i(7272),dt=i(5698),$t=i(9718),Xe=i(5577);function Mt(t,e){return e?r=>(0,Bt.z)(e.pipe((0,dt.q)(1),function We(){return(0,w.e)((t,e)=>{t.subscribe((0,f.x)(e,I.Z))})}()),r.pipe(Mt(t))):(0,Xe.z)((r,n)=>t(r,n).pipe((0,dt.q)(1),(0,$t.h)(r)))}function z(t,e=ze.z){const r=(0,E.H)(t,e);return Mt(()=>r)}var Ht=i(4671),Je=i(3269);function Lt(...t){const e=(0,Je.jO)(t);return(0,w.e)((r,n)=>{const a=t.length,s=new Array(a);let o=t.map(()=>!1),c=!1;for(let u=0;u<a;u++)(0,b.Xf)(t[u]).subscribe((0,f.x)(n,m=>{s[u]=m,!c&&!o[u]&&(o[u]=!0,(c=o.every(Ht.y))&&(o=null))},I.Z));r.subscribe((0,f.x)(n,u=>{if(c){const m=[u,...s];n.next(e?e(...m):m)}}))})}var U=i(4650);let Kt=(()=>{class t{constructor(){this.controlKeys=[],this.formGroup=new g.nJ(this._getFormControls(),this.getFormGroupControlOptions()),this.onChange=void 0,this.onTouched=void 0,this.emitNullOnDestroy=!0,this.emitInitialValueOnInit=!0,this.subscription=void 0,this.controlDisabled=!1;const r=this.getDefaultValues();r&&this.formGroup.reset(r,{emitEvent:!1}),setTimeout(()=>{this.formGroup&&(this.formGroup.updateValueAndValidity({emitEvent:!1}),this.controlDisabled&&this.formGroup.disable())},0)}get formGroupControls(){return this.formGroup?this.formGroup.controls:null}get formGroupValues(){return this.mapControls(r=>r.value)}get formGroupErrors(){const r=this.mapControls(n=>n.errors,(n,a,s)=>!!s||n.invalid,!0);return this.formGroup.errors||r&&Object.keys(r).length?Object.assign({},this.formGroup.errors?{formGroup:this.formGroup.errors}:{},r):null}get formControlNames(){return this.mapControls((r,n)=>n,()=>!0,!1)}_getFormControls(){const r=this.getFormControls();return this.controlKeys=Object.keys(r),r}mapControls(r,n=(()=>!0),a=!0){if(!this.formGroup)return null;const s=this.formGroup.controls,o={};for(const c in s)if(this.formGroup.controls.hasOwnProperty(c)){const u=s[c];if(a&&u instanceof g.vC){const m=[];for(let x=0;x<u.length;x++)n(u.at(x),c,!0)&&m.push(r(u.at(x),c));m.length>0&&m.some(x=>!B(x))&&(o[c]=m)}else u&&n(u,c,!1)&&(o[c]=r(u,c))}return o}onFormUpdate(r){}getFormGroupControlOptions(){return{}}validate(){return!this.formGroup||this.formGroup.valid?null:this.formGroupErrors}ngOnDestroy(){this.formGroup=void 0,this.subscription&&this.subscription.unsubscribe(),this.emitNullOnDestroy&&this.onChange&&this.onChange(null),this.onChange=void 0}getDefaultValues(){return null}writeValue(r){if(!this.formGroup)return;const n=this.getDefaultValues(),a=this.transformToFormGroup(void 0===r?null:r,n);if(B(a))this.formGroup.reset(null===n?void 0:n,{emitEvent:!1});else{const s=this.getMissingKeys(a);if(s.length>0)throw new Ke(s);this.handleFormArrayControls(a);const o=this.formGroup.disabled;this.formGroup.setValue(a,{emitEvent:!1}),o&&this.formGroup.disable()}this.formGroup.markAsPristine(),this.formGroup.markAsUntouched()}handleFormArrayControls(r){Object.entries(r).forEach(([n,a])=>{if(this.formGroup.get(n)instanceof g.vC&&Array.isArray(a)){const s=this.formGroup.get(n);for(;s.length>a.length;)s.removeAt(s.length-1);for(let o=s.length;o<a.length;o++)this.formIsFormWithArrayControls()?s.insert(o,this.createFormArrayControl(n,a[o])):s.insert(o,new g.p4(a[o]))}})}formIsFormWithArrayControls(){return"function"==typeof this.createFormArrayControl}getMissingKeys(r){return this.controlKeys.reduce((a,s)=>((B(r)||void 0===r[s])&&a.push(s),a),[])}handleEmissionRate(){return r=>r}transformToFormGroup(r,n){return r}transformFromFormGroup(r){return r}registerOnChange(r){if(!this.formGroup)return;this.onChange=r;const a=Object.keys(this.formControlNames).map(o=>this.formGroup.controls[o].valueChanges.pipe((0,Ct.O)(this.formGroup.controls[o].value),(0,K.U)(c=>({key:o,value:c})))),s=(0,pt.T)(...a.map(o=>o.pipe((0,K.U)(c=>c.key))));this.subscription=this.formGroup.valueChanges.pipe(this.handleEmissionRate(),(0,Ct.O)(this.formGroup.value),z(0),(0,d.h)(()=>!!this.formGroup),Lt(s),(0,K.U)(([o,c],u)=>{if(u>0&&this.onTouched&&this.onTouched(),u>0||0===u&&this.emitInitialValueOnInit){this.onChange&&this.onChange(this.transformFromFormGroup(this.formGroup.value));const m={};m[c]=!0,this.onFormUpdate(m)}})).subscribe()}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.controlDisabled=!!r,this.formGroup&&(r?this.formGroup.disable({emitEvent:!1}):this.formGroup.enable({emitEvent:!1}))}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=U.lG2({type:t}),t})(),zt=(()=>{class t extends Kt{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=U.n5z(t)))(n||t)}}(),t.\u0275dir=U.lG2({type:t,features:[U.qOj]}),t})(),Ye=(()=>{class t extends zt{constructor(){super(...arguments),this.dataInput$=new h.X(null),this._dataOutput$=new C.x,this.emitInitialValueOnInit=!1,this.emitNullOnDestroy=!1,this.dataValue=null}set disabled(r){this.setDisabledState(r)}ngOnInit(){this.registerOnChange(r=>this.onRegisterOnChangeHook(r)),this.dataInput$.pipe((0,d.h)(r=>!p()(r,this.formGroup.value)),(0,A.b)(r=>{B(r)||this.writeValue(r)}),Ut(this)).subscribe(),this._dataOutput$.pipe((0,d.h)(()=>this.formGroup.valid),(0,A.b)(r=>this.dataOutput.emit(r)),Ut(this)).subscribe()}onRegisterOnChangeHook(r){return!this.formGroup.invalid&&!p()(r,this.dataInput$.value)&&(this.dataValue=r,!0)}dataInputUpdated(r){this.dataInput$.next(r)}writeValue(r){this.dataValue=r,super.writeValue(r)}transformToFormGroup(r,n){return r}transformFromFormGroup(r){return r}manualSave(){!B(this.dataValue)&&this.formGroup.valid&&this._dataOutput$.next(this.dataValue)}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=U.n5z(t)))(n||t)}}(),t.\u0275dir=U.lG2({type:t,inputs:{disabled:"disabled"},features:[U.qOj]}),t})();class Ze extends Error{constructor(e){super(`You're trying to apply the "DataInput" decorator on a property called "${e}". That decorator should only be used on a property called "dataInput"`)}}function Qe(){return function(t,e){if("dataInput"!==e)throw new Ze(e);Object.defineProperty(t,e,{set:function(r){this.dataInputUpdated(r)}})}}var Wt=i(9646),Xt=i(515),ke=i(9841),qe=i(6063);class tt extends C.x{constructor(e=1/0,r=1/0,n=qe.l){super(),this._bufferSize=e,this._windowTime=r,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,r)}next(e){const{isStopped:r,_buffer:n,_infiniteTimeWindow:a,_timestampProvider:s,_windowTime:o}=this;r||(n.push(e),!a&&n.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(e),{_infiniteTimeWindow:n,_buffer:a}=this,s=a.slice();for(let o=0;o<s.length&&!e.closed;o+=n?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),r}_trimBuffer(){const{_bufferSize:e,_timestampProvider:r,_buffer:n,_infiniteTimeWindow:a}=this,s=(a?1:2)*e;if(e<1/0&&s<n.length&&n.splice(0,n.length-s),!a){const o=r.now();let c=0;for(let u=1;u<n.length&&n[u]<=o;u+=2)c=u;c&&n.splice(0,c+1)}}}var tr=i(3099);function Jt(t,e,r){let n,a=!1;return t&&"object"==typeof t?({bufferSize:n=1/0,windowTime:e=1/0,refCount:a=!1,scheduler:r}=t):n=t??1/0,(0,tr.B)({connector:()=>new tt(n,e,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}var Tt=i(3900);const Yt=function nr(t,e){return t===e||t!=t&&e!=e},ht=function or(t,e){for(var r=t.length;r--;)if(Yt(t[r][0],e))return r;return-1};var ar=Array.prototype.splice;function W(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}W.prototype.clear=function er(){this.__data__=[],this.size=0},W.prototype.delete=function ir(t){var e=this.__data__,r=ht(e,t);return!(r<0||(r==e.length-1?e.pop():ar.call(e,r,1),--this.size,0))},W.prototype.get=function ur(t){var e=this.__data__,r=ht(e,t);return r<0?void 0:e[r][1]},W.prototype.has=function fr(t){return ht(this.__data__,t)>-1},W.prototype.set=function dr(t,e){var r=this.__data__,n=ht(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};const gt=W,Zt="object"==typeof global&&global&&global.Object===Object&&global;var Ar="object"==typeof self&&self&&self.Object===Object&&self;const D=Zt||Ar||Function("return this")(),X=D.Symbol;var Qt=Object.prototype,wr=Qt.hasOwnProperty,xr=Qt.toString,et=X?X.toStringTag:void 0;var Gr=Object.prototype.toString;var kt=X?X.toStringTag:void 0;const rt=function Vr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":kt&&kt in Object(t)?function Er(t){var e=wr.call(t,et),r=t[et];try{t[et]=void 0;var n=!0}catch{}var a=xr.call(t);return n&&(e?t[et]=r:delete t[et]),a}(t):function Dr(t){return Gr.call(t)}(t)},nt=function Ur(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},qt=function Lr(t){if(!nt(t))return!1;var e=rt(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e};var t,Kr=D["__core-js_shared__"],te=(t=/[^.]+$/.exec(Kr&&Kr.keys&&Kr.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"";var Jr=Function.prototype.toString;const $=function Yr(t){if(null!=t){try{return Jr.call(t)}catch{}try{return t+""}catch{}}return""};var Qr=/^\[object .+?Constructor\]$/,rn=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const on=function nn(t){return!(!nt(t)||function zr(t){return!!te&&te in t}(t))&&(qt(t)?rn:Qr).test($(t))},M=function cn(t,e){var r=function sn(t,e){return t?.[e]}(t,e);return on(r)?r:void 0},ot=M(D,"Map"),st=M(Object,"create");var yn=Object.prototype.hasOwnProperty;var Cn=Object.prototype.hasOwnProperty;function J(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}J.prototype.clear=function fn(){this.__data__=st?st(null):{},this.size=0},J.prototype.delete=function dn(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},J.prototype.get=function bn(t){var e=this.__data__;if(st){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return yn.call(e,t)?e[t]:void 0},J.prototype.has=function Tn(t){var e=this.__data__;return st?void 0!==e[t]:Cn.call(e,t)},J.prototype.set=function Sn(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=st&&void 0===e?"__lodash_hash_undefined__":e,this};const ee=J,mt=function Fn(t,e){var r=t.__data__;return function En(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map};function Y(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Y.prototype.clear=function wn(){this.size=0,this.__data__={hash:new ee,map:new(ot||gt),string:new ee}},Y.prototype.delete=function Gn(t){var e=mt(this,t).delete(t);return this.size-=e?1:0,e},Y.prototype.get=function Pn(t){return mt(this,t).get(t)},Y.prototype.has=function Nn(t){return mt(this,t).has(t)},Y.prototype.set=function Un(t,e){var r=mt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};const $n=Y;function Z(t){var e=this.__data__=new gt(t);this.size=e.size}Z.prototype.clear=function gr(){this.__data__=new gt,this.size=0},Z.prototype.delete=function yr(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Z.prototype.get=function _r(t){return this.__data__.get(t)},Z.prototype.has=function Cr(t){return this.__data__.has(t)},Z.prototype.set=function Hn(t,e){var r=this.__data__;if(r instanceof gt){var n=r.__data__;if(!ot||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new $n(n)}return r.set(t,e),this.size=r.size,this};const Kn=Z;var Xn=function(){try{var t=M(Object,"defineProperty");return t({},"",{}),t}catch{}}();const re=Xn,ne=function Jn(t,e,r){"__proto__"==e&&re?re(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r};var Zn=Object.prototype.hasOwnProperty;const oe=function Qn(t,e,r){var n=t[e];(!Zn.call(t,e)||!Yt(n,r)||void 0===r&&!(e in t))&&ne(t,e,r)},yt=function kn(t,e,r,n){var a=!r;r||(r={});for(var s=-1,o=e.length;++s<o;){var c=e[s],u=n?n(r[c],t[c],c,r,t):void 0;void 0===u&&(u=t[c]),a?ne(r,c,u):oe(r,c,u)}return r},at=function eo(t){return null!=t&&"object"==typeof t},se=function no(t){return at(t)&&"[object Arguments]"==rt(t)};var ae=Object.prototype,oo=ae.hasOwnProperty,so=ae.propertyIsEnumerable,ao=se(function(){return arguments}())?se:function(t){return at(t)&&oo.call(t,"callee")&&!so.call(t,"callee")};const io=ao,At=Array.isArray;var ie="object"==typeof exports&&exports&&!exports.nodeType&&exports,ce=ie&&"object"==typeof module&&module&&!module.nodeType&&module,ue=ce&&ce.exports===ie?D.Buffer:void 0;const le=(ue?ue.isBuffer:void 0)||function uo(){return!1};var mo=/^(?:0|[1-9]\d*)$/;const bo=function yo(t,e){var r=typeof t;return!!(e=e??9007199254740991)&&("number"==r||"symbol"!=r&&mo.test(t))&&t>-1&&t%1==0&&t<e},fe=function vo(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var _={};_["[object Float32Array]"]=_["[object Float64Array]"]=_["[object Int8Array]"]=_["[object Int16Array]"]=_["[object Int32Array]"]=_["[object Uint8Array]"]=_["[object Uint8ClampedArray]"]=_["[object Uint16Array]"]=_["[object Uint32Array]"]=!0,_["[object Arguments]"]=_["[object Array]"]=_["[object ArrayBuffer]"]=_["[object Boolean]"]=_["[object DataView]"]=_["[object Date]"]=_["[object Error]"]=_["[object Function]"]=_["[object Map]"]=_["[object Number]"]=_["[object Object]"]=_["[object RegExp]"]=_["[object Set]"]=_["[object String]"]=_["[object WeakMap]"]=!1;const St=function Xo(t){return function(e){return t(e)}};var pe="object"==typeof exports&&exports&&!exports.nodeType&&exports,it=pe&&"object"==typeof module&&module&&!module.nodeType&&module,jt=it&&it.exports===pe&&Zt.process;const Q=function(){try{return it&&it.require&&it.require("util").types||jt&&jt.binding&&jt.binding("util")}catch{}}();var de=Q&&Q.isTypedArray;const Qo=de?St(de):function zo(t){return at(t)&&fe(t.length)&&!!_[rt(t)]};var qo=Object.prototype.hasOwnProperty;const he=function ts(t,e){var r=At(t),n=!r&&io(t),a=!r&&!n&&le(t),s=!r&&!n&&!a&&Qo(t),o=r||n||a||s,c=o?function qn(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],u=c.length;for(var m in t)(e||qo.call(t,m))&&(!o||!("length"==m||a&&("offset"==m||"parent"==m)||s&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||bo(m,u)))&&c.push(m);return c};var es=Object.prototype;const wt=function rs(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||es)},ge=function ns(t,e){return function(r){return t(e(r))}},ss=ge(Object.keys,Object);var is=Object.prototype.hasOwnProperty;const me=function ls(t){return null!=t&&fe(t.length)&&!qt(t)},xt=function fs(t){return me(t)?he(t):function cs(t){if(!wt(t))return ss(t);var e=[];for(var r in Object(t))is.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)};var ys=Object.prototype.hasOwnProperty;const _s=function bs(t){if(!nt(t))return function hs(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=wt(t),r=[];for(var n in t)"constructor"==n&&(e||!ys.call(t,n))||r.push(n);return r},Et=function vs(t){return me(t)?he(t,!0):_s(t)};var ye="object"==typeof exports&&exports&&!exports.nodeType&&exports,be=ye&&"object"==typeof module&&module&&!module.nodeType&&module,_e=be&&be.exports===ye?D.Buffer:void 0,ve=_e?_e.allocUnsafe:void 0;const Ce=function Is(){return[]};var Gs=Object.prototype.propertyIsEnumerable,Te=Object.getOwnPropertySymbols,Ds=Te?function(t){return null==t?[]:(t=Object(t),function xs(t,e){for(var r=-1,n=null==t?0:t.length,a=0,s=[];++r<n;){var o=t[r];e(o,r,t)&&(s[a++]=o)}return s}(Te(t),function(e){return Gs.call(t,e)}))}:Ce;const It=Ds,Oe=function Ns(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t},Ae=ge(Object.getPrototypeOf,Object);var Bs=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Oe(e,It(t)),t=Ae(t);return e}:Ce;const Se=Bs,je=function Hs(t,e,r){var n=e(t);return At(t)?n:Oe(n,r(t))},Ks=function Ls(t){return je(t,xt,It)},Ws=function zs(t){return je(t,Et,Se)},Ft=M(D,"DataView"),Gt=M(D,"Promise"),Dt=M(D,"Set"),Pt=M(D,"WeakMap");var we="[object Map]",xe="[object Promise]",Ee="[object Set]",Ie="[object WeakMap]",Fe="[object DataView]",ks=$(Ft),qs=$(ot),ta=$(Gt),ea=$(Dt),ra=$(Pt),H=rt;(Ft&&H(new Ft(new ArrayBuffer(1)))!=Fe||ot&&H(new ot)!=we||Gt&&H(Gt.resolve())!=xe||Dt&&H(new Dt)!=Ee||Pt&&H(new Pt)!=Ie)&&(H=function(t){var e=rt(t),r="[object Object]"==e?t.constructor:void 0,n=r?$(r):"";if(n)switch(n){case ks:return Fe;case qs:return we;case ta:return xe;case ea:return Ee;case ra:return Ie}return e});const Rt=H;var oa=Object.prototype.hasOwnProperty;const Ge=D.Uint8Array,Nt=function ca(t){var e=new t.constructor(t.byteLength);return new Ge(e).set(new Ge(t)),e};var fa=/\w*$/;var De=X?X.prototype:void 0,Pe=De?De.valueOf:void 0;const Ua=function Va(t,e,r){var n=t.constructor;switch(e){case"[object ArrayBuffer]":return Nt(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return function ua(t,e){var r=e?Nt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function ma(t,e){var r=e?Nt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return function pa(t){var e=new t.constructor(t.source,fa.exec(t));return e.lastIndex=t.lastIndex,e}(t);case"[object Symbol]":return function ha(t){return Pe?Object(Pe.call(t)):{}}(t)}};var Re=Object.create,Ba=function(){function t(){}return function(e){if(!nt(e))return{};if(Re)return Re(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();const $a=Ba;var Ne=Q&&Q.isMap;const Xa=Ne?St(Ne):function Ka(t){return at(t)&&"[object Map]"==Rt(t)};var Ve=Q&&Q.isSet;const ka=Ve?St(Ve):function Ya(t){return at(t)&&"[object Set]"==Rt(t)};var Ue="[object Arguments]",Be="[object Function]",$e="[object Object]",y={};y[Ue]=y["[object Array]"]=y["[object ArrayBuffer]"]=y["[object DataView]"]=y["[object Boolean]"]=y["[object Date]"]=y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Map]"]=y["[object Number]"]=y[$e]=y["[object RegExp]"]=y["[object Set]"]=y["[object String]"]=y["[object Symbol]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y["[object Error]"]=y[Be]=y["[object WeakMap]"]=!1;const Si=function bt(t,e,r,n,a,s){var o,c=1&e,u=2&e,m=4&e;if(r&&(o=a?r(t,n,a,s):r(t)),void 0!==o)return o;if(!nt(t))return t;var x=At(t);if(x){if(o=function sa(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&oa.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!c)return function js(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}(t,o)}else{var N=Rt(t),ut=N==Be||"[object GeneratorFunction]"==N;if(le(t))return function As(t,e){if(e)return t.slice();var r=t.length,n=ve?ve(r):new t.constructor(r);return t.copy(n),n}(t,c);if(N==$e||N==Ue||ut&&!a){if(o=u||ut?{}:function Ma(t){return"function"!=typeof t.constructor||wt(t)?{}:$a(Ae(t))}(t),!c)return u?function $s(t,e){return yt(t,Se(t),e)}(t,function Cs(t,e){return t&&yt(e,Et(e),t)}(o,t)):function Ps(t,e){return yt(t,It(t),e)}(t,function ps(t,e){return t&&yt(e,xt(e),t)}(o,t))}else{if(!y[N])return a?t:{};o=Ua(t,N,c)}}s||(s=new Kn);var lt=s.get(t);if(lt)return lt;s.set(t,o),ka(t)?t.forEach(function(P){o.add(bt(P,e,r,P,t,s))}):Xa(t)&&t.forEach(function(P,R){o.set(R,bt(P,e,r,R,t,s))});var ft=x?void 0:(m?u?Ws:Ks:u?Et:xt)(t);return function zn(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););}(ft||t,function(P,R){ft&&(P=t[R=P]),oe(o,R,bt(P,e,r,R,t,s))}),o},Me=(t,e)=>{Object.entries(e).forEach(([r,n])=>{t[r]=n})},He=t=>{const e=Object.entries(t.controls).reduce((r,[n,a])=>{if(a.errors&&(r[n]=a.errors),a instanceof g.vC){const s={};for(let o=0;o<a.length;o++){const c=a.at(o).errors;c&&(s[o]=c)}if(Object.values(s).length>0){const o=r;n in o||(o[n]={}),Object.assign(o[n],s)}}return r},{});return t.errors||Object.values(e).length?Object.assign({},t.errors?{formGroup:t.errors}:{},e):null};var ct=(()=>(function(t){t.SUB="Sub",t.ROOT="Root"}(ct||(ct={})),ct))();const _t=t=>t.formType===ct.ROOT;function Pi(t,e){const{formGroup:r,defaultValues:n,formControlNames:a,formArrays:s}=function Fi(t){const e=new g.nJ(t.formControls,t.formGroupOptions),r=function xi(t){return Si(t,5)}(e.value),n=Object.keys(r),a=n.reduce((o,c)=>(o[c]=c,o),{}),s=n.reduce((o,c)=>{const u=e.get(c);return u instanceof g.vC&&o.push({key:c,control:u}),o},[]);return{formGroup:e,defaultValues:r,formControlNames:a,formArrays:s}}(e);let o=!1;const c=e.componentHooks??{onDestroy:T(t).ngOnDestroy,afterViewInit:T(t).ngAfterViewInit};c.onDestroy.pipe((0,dt.q)(1)).subscribe(()=>{o=!0}),Me(t,{validate:()=>o||r.valid?null:He(r)});const u=(0,E.H)(0),m=(t=>{const e=new tt(1),r=new tt(1),n=new tt(1),a=new tt(1);return Me(t,{writeValue:o=>{e.next(o)},registerOnChange:o=>{r.next(o)},registerOnTouched:o=>{n.next(o)},setDisabledState:o=>{a.next(!!o)}}),{writeValue$:e.asObservable(),registerOnChange$:r.asObservable(),registerOnTouched$:n.asObservable(),setDisabledState$:a.asObservable()}})(t),x=_t(e)?e.input$.pipe((0,Ct.O)(null)):m.writeValue$,N=_t(e)?(0,Wt.of)(v=>{!v||e.output$.next(v)}):m.registerOnChange$,ut=_t(e)?e.disabled$??(0,Wt.of)(!1):m.setDisabledState$,lt=x.pipe((0,K.U)(v=>B(v)?n:e.toFormGroup?e.toFormGroup(v):v),Jt({refCount:!0,bufferSize:1})),vt=lt.pipe((0,Tt.w)(v=>_t(e)?(e.manualSave$?e.manualSave$.pipe(Lt(r.valueChanges),(0,K.U)(([Vt,Ni])=>Ni)):r.valueChanges).pipe((0,d.h)(()=>r.valid),z(0),(0,d.h)(Vt=>!r.invalid&&(e.outputFilterPredicate?e.outputFilterPredicate(v,Vt):!p()(v,Vt))),e.handleEmissionRate??Ht.y):r.valueChanges.pipe(z(0))),(0,K.U)(v=>e.fromFormGroup?e.fromFormGroup(v):v)),ft=(0,pt.T)(x,vt).pipe(Jt({bufferSize:1,refCount:!0})),P=B(e.emitNullOnDestroy)||e.emitNullOnDestroy?c.onDestroy.pipe((0,$t.h)(null)):Xt.E,R=(t=>!!t.createFormArrayControl)(e)&&e.createFormArrayControl?e.createFormArrayControl:(v,k)=>new g.p4(k),Ri={broadcastValueToParent$:N.pipe((0,Tt.w)(v=>vt.pipe((0,A.b)(k=>v(k))))),applyUpstreamUpdateOnLocalForm$:lt.pipe((0,A.b)(v=>{((t,e,r)=>{!t.length||t.forEach(({key:n,control:a})=>{const s=e[n];if(Array.isArray(s)){for(;a.length>s.length;)a.removeAt(a.length-1);for(let o=a.length;o<s.length;o++){const c=r(n,s[o]);a.disabled&&c.disable(),a.insert(o,c)}}})})(s,v,R),r.reset(v,{emitEvent:!1})})),supportChangeDetectionStrategyOnPush:(0,Bt.z)(c.afterViewInit.pipe((0,dt.q)(1)),(0,pt.T)(ft,ut).pipe(z(0),(0,A.b)(()=>{(0,U.Rx$)(t)}))),setDisabledState$:ut.pipe((0,A.b)(v=>{v?r.disable({emitEvent:!1}):r.enable({emitEvent:!1})})),updateValue$:u.pipe((0,A.b)(()=>{r.updateValueAndValidity({emitEvent:!1})})),bindTouched$:(0,ke.a)([m.registerOnTouched$,e.touched$??Xt.E]).pipe(z(0),(0,A.b)(([v])=>v()))};return(0,pt.T)(...Object.values(Ri)).pipe((0,G.R)(c.onDestroy)).subscribe(),N.pipe((0,Tt.w)(v=>P.pipe((0,A.b)(k=>v(k)))),(0,G.R)(c.onDestroy.pipe(z(0)))).subscribe(),{formGroup:r,formControlNames:a,get formGroupErrors(){return He(r)},createFormArrayControl:R,controlValue$:ft}}},4879:(V,O,i)=>{i.d(O,{HB:()=>l,XC:()=>h,_m:()=>C,lI:()=>p});var l=(()=>{return(d=l||(l={})).PROTOCOL="Protocol",d.MEDICAL="Medical",d.ASTROMECH="Astromech",d.ASSASSIN="Assassin",l;var d})(),p=(()=>{return(d=p||(p={})).DROIDSPEAK="Droidspeak",d.EWOKESE="Ewokese",d.HUTTESE="Huttese",d.JAWAESE="Jawaese",d.SITH="Sith",d.SHYRIIWOOK="Shyriiwook",p;var d})(),h=(()=>{return(d=h||(h={})).REGULAR="Regular",d.SPHERE="Sphere",h;var d})(),C=(()=>{return(d=C||(C={})).SABER="Saber",d.FLAME_THROWER="FlameThrower",d.GUN="Gun",d.AXE="Axe",C;var d})()},6482:(V,O,i)=>{i.d(O,{I:()=>l});var l=(()=>{return(p=l||(l={})).VEHICLE="Vehicle",p.DROID="Droid",l;var p})()},3246:(V,O,i)=>{i.d(O,{F:()=>l});var l=(()=>{return(p=l||(l={})).SPACESHIP="Spaceship",p.SPEEDER="Speeder",l;var p})()},2422:(V,O,i)=>{i.d(O,{o:()=>S});var l=i(1135),p=i(6482),h=i(4879),C=i(3246);const d=[{id:"3f71b7eb-4a4f-40e6-9fca-e8cc7c0199c3",price:45e6,title:"Millenium Falcon",imageUrl:"https://vignette.wikia.nocookie.net/starwars/images/4/43/MillenniumFalconTFA-Fathead.png/revision/latest/scale-to-width-down/1000?cb=20161110011442",listingType:p.I.VEHICLE,product:{color:"#cec80d",canFire:!0,crewMembers:[{firstName:"Obi-Wan",lastName:"Kenobi"},{firstName:"R2",lastName:"D2"}],wingCount:0,vehicleType:C.F.SPACESHIP}},{id:"c01ad30c-d686-4db2-9a3c-6cf91c494bf0",price:5e5,title:"X-34 landspeeder",imageUrl:"https://vignette.wikia.nocookie.net/starwars/images/5/54/X34-landspeeder.jpg/revision/latest?cb=20080316031428",listingType:p.I.VEHICLE,product:{color:"#2468f7",canFire:!0,crewMembers:[{firstName:"Anakin",lastName:"Skywalker"}],vehicleType:C.F.SPEEDER,maximumSpeed:250}},{id:"99178909-7db2-4b75-99e5-028b2d4f6755",price:15e4,title:"C-3PO Protocol Droid",imageUrl:"https://vignette.wikia.nocookie.net/starwars/images/5/51/C-3PO_EP3.png/revision/latest?cb=20131005124036",listingType:p.I.DROID,product:{color:"#b38d03",name:"Proto",droidType:h.HB.PROTOCOL,spokenLanguages:[h.lI.DROIDSPEAK,h.lI.HUTTESE]}},{id:"8aa98e18-838c-4a19-975e-2366c2566544",price:21e4,title:"2-1B Medial Droid",imageUrl:"https://vignette.wikia.nocookie.net/starwars/images/b/b6/2-1B_negtd.jpg/revision/latest/scale-to-width-down/200?cb=20100616170941",listingType:p.I.DROID,product:{color:"#07c911",name:"Medic",droidType:h.HB.MEDICAL,canHealHumans:!0,canFixRobots:!0}},{id:"08c2c071-f03e-4a63-93b7-bd3df0f2987c",price:215e3,title:"R2D2 Astromech Droid",imageUrl:"https://vignette.wikia.nocookie.net/starwars/images/e/eb/ArtooTFA2-Fathead.png/revision/latest/scale-to-width-down/1000?cb=20161108040914",listingType:p.I.DROID,product:{color:"#ff0a0a",name:"Test",droidType:h.HB.ASTROMECH,toolCount:15,shape:h.XC.REGULAR}},{id:"0258166e-13b5-4580-a63b-7c1914ef660f",price:35e4,title:"K2-S0 Security Droid",imageUrl:"https://vignette.wikia.nocookie.net/starwars/images/f/fd/K-2SO_Sideshow.png/revision/latest?cb=20170302003128",listingType:p.I.DROID,product:{color:"#cc6969",name:"acwer fg",droidType:h.HB.ASSASSIN,weapons:[h._m.AXE,h._m.FLAME_THROWER]}}];var A=i(4004),g=i(4650);let S=(()=>{class j{constructor(){this.listings$=new l.X(d)}getListings(){return this.listings$.asObservable().pipe((0,A.U)(this.listingsDeepCopy.bind(this)))}upsertListing(T){const E=this.listings$.getValue(),w=E.findIndex(I=>I.id===T.id);if(w>-1){const I=E.slice(0,w),f=E.slice(w+1);this.listings$.next([...I,T,...f])}else this.listings$.next([T,...this.listings$.getValue()])}getOneListing(T){return this.listings$.pipe((0,A.U)(E=>{const w=E.find(I=>I.id===T);if(!w)throw new Error("not found");return w}),(0,A.U)(this.listingDeepCopy))}listingDeepCopy(T){return JSON.parse(JSON.stringify(T))}listingsDeepCopy(T){return T.map(this.listingDeepCopy)}}return j.\u0275fac=function(T){return new(T||j)},j.\u0275prov=g.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})()},110:(V,O,i)=>{i.d(O,{B:()=>I});var l,p=new Uint8Array(16);function h(){if(!l&&!(l=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l(p)}const C=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,A=function d(f){return"string"==typeof f&&C.test(f)};for(var g=[],S=0;S<256;++S)g.push((S+256).toString(16).substr(1));const E=function T(f,b,F){var G=(f=f||{}).random||(f.rng||h)();if(G[6]=15&G[6]|64,G[8]=63&G[8]|128,b){F=F||0;for(var L=0;L<16;++L)b[F+L]=G[L];return b}return function j(f){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,F=(g[f[b+0]]+g[f[b+1]]+g[f[b+2]]+g[f[b+3]]+"-"+g[f[b+4]]+g[f[b+5]]+"-"+g[f[b+6]]+g[f[b+7]]+"-"+g[f[b+8]]+g[f[b+9]]+"-"+g[f[b+10]]+g[f[b+11]]+g[f[b+12]]+g[f[b+13]]+g[f[b+14]]+g[f[b+15]]).toLowerCase();if(!A(F))throw TypeError("Stringified UUID is invalid");return F}(G)};var w=i(4650);let I=(()=>{class f{generate(){return E()}}return f.\u0275fac=function(F){return new(F||f)},f.\u0275prov=w.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},2134:(V,O,i)=>{i.d(O,{h:()=>l});class l{constructor(h){}}},2559:V=>{V.exports=function O(i,l){if(i===l)return!0;if(i&&l&&"object"==typeof i&&"object"==typeof l){if(i.constructor!==l.constructor)return!1;var p,h,C;if(Array.isArray(i)){if((p=i.length)!=l.length)return!1;for(h=p;0!=h--;)if(!O(i[h],l[h]))return!1;return!0}if(i.constructor===RegExp)return i.source===l.source&&i.flags===l.flags;if(i.valueOf!==Object.prototype.valueOf)return i.valueOf()===l.valueOf();if(i.toString!==Object.prototype.toString)return i.toString()===l.toString();if((p=(C=Object.keys(i)).length)!==Object.keys(l).length)return!1;for(h=p;0!=h--;)if(!Object.prototype.hasOwnProperty.call(l,C[h]))return!1;for(h=p;0!=h--;){var d=C[h];if(!O(i[d],l[d]))return!1}return!0}return i!=i&&l!=l}}}]);